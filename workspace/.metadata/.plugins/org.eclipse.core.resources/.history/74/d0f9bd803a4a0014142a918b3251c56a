
package ch.hearc.coursjava.kitbase.lineaire;

import org.junit.Assert;

public class UseLineaireARGS
	{
	
	/*------------------------------------------------------------------*\
	|*							Methodes Public							*|
	\*------------------------------------------------------------------*/
	
	/**
	 * a=2 b=10
	 * @param args
	 * @throws
	 */
	public static void main(String[] args)
		{
		if (args.length != 2)
			{
			System.err.println("Syntaxe fausse: voici un exemple de syntaxe correcte:a=2 b=10");
			System.exit(-1); // 0 normal, -1 anormal
			}
		else
			{
			double[] tabCoefficient = parser(args);
			double x = Lineaire.solve(tabCoefficient);
			Lineaire.print(tabCoefficient, x);
			}
		}
	
	/*------------------------------------------------------------------*\
	|*							Methodes Private						*|
	\*------------------------------------------------------------------*/
	
	private static double[] parser(String[] tabInput)
		{
		Assert.assertTrue(tabInput.length == 2);
		
		double a = toCoefficient(tabInput[0]);
		double b = toCoefficient(tabInput[1]);
		
		return new double[] { a, b };
		}
	
	private static double toCoefficient(String input)
		{
		String[] tab = input.split("=");
		String valeur = tab[1];
		
		return toDouble(valeur);
		}
	
	private static double toDouble(String valeur)
		{
		try
			{
			return Double.valueOf(valeur);
			}
		catch (NumberFormatException e)
			{
			System.err.println(valeur + " n'est pas un nombre");
			System.exit(-1); // 0 normal, -1 anormal
			return -1;
			}
		}
	
	}
